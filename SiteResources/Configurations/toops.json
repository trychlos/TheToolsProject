{
	"site_comments": [
		"We can define here some variables at the site level.",
		"These variables are free to the site integrator and NOT considered by TheToolsProject, though they can be used in below Toops JSON dynamic evaluations."
	],
	"site": {
		"rootDir": "C:\\INLINGUA",
		"commandsDir": "[eval:$TTPVars->{config}{site}{rootDir}]\\SiteResources\\Commands",
		"daemonsDir": "[eval:$ENV{TTP_CONFDIR}]\\daemons"
	},
	"toops_comments": [
		"The global Toops configuration for your site",
		"In Windows environment, take care of doubling your backslashes",
		"May make use - in values only - of parameters between square brackets as [eval:...]",
		"At the moment, there is only one type of parameters:",
		"- those specified by 'eval:' indicate some code to be evaluated at run time.",
		"  'eval' may be prefixed with an underscore in order to delay the eval (e.g. if it refers to another dynamic variable which needs to be resolved first).",
		"Remind that the directory where lies this 'toops.json' must be adressed by the TTP_CONFDIR variable.",
		"Also note that every variable here may be overriden on a per-host basis."
	],
	"toops": {
		"logsRoot": "[eval:$TTPVars->{config}{site}{rootDir}]\\byDayLogs",
		"logsDir": "[eval:Mods::Path::logsRootDir( false )]\\[eval:localtime->strftime( '%y%m%d' )]\\Toops",
		"Message": {
			"msgDummy": {
				"withColor": true,
				"withLog": true
			},
			"msgErr": {
				"withColor": true,
				"withLog": true
			},
			"msgOut": {
				"withColor": true,
				"withLog": true
			},
			"msgVerbose": {
				"withColor": true,
				"withLog": true
			},
			"msgWarn": {
				"withColor": true,
				"withLog": true
			}
		},
		"executionReports": {
			"withFile": {
				"enabled": true,
				"dropDir": "[eval:Mods::Path::logsRootDir( false )]\\[eval:localtime->strftime( '%y%m%d' )]\\execReports"
			},
			"withMqtt": {
				"enabled": true
			},
			"withPrometheus": {
				"enabled": true
			}
		},
		"copyDir": {
			"byOS": {
				"MSWin32": {
					"command": "robocopy <SOURCE> <TARGET> /E /TS /FP /NP /BYTES"
				}
			}
		},
		"copyFile": {
			"byOS": {
				"MSWin32": {
					"command": "robocopy <SOURCE> <TARGET> <FILE> /TS /FP /NP /BYTES"
				}
			}
		},
		"moveDir": {
			"byOS": {
				"MSWin32": {
					"command": "robocopy <SOURCE> <TARGET> /E /MOVE /TS /FP /NP /BYTES"
				}
			}
		},
		"alerts": {
			"withFile": {
				"enabled": true,
				"dropDir": "[eval:Mods::Path::logsRootDir( false )]\\[eval:localtime->strftime( '%y%m%d' )]\\Alerts"
			},
			"withMqtt": {
				"enabled": true
			},
			"withMail" : {
				"enabled": false,
				"gateway" : "SMTPGateway",
				"mailto": [
					"alerts@trychlos.org",
					"pierre@pwi-consulting.fr"
				]
			},
			"withSms" : {
				"enabled": false,
				"gateway" : {
					"type": "mail2sms",
					"address" : [
						"SMTP"
					]
				},
				"smsto": [
				]
			}
		},
		"SMTPGateway": {
			"host": "mail.trychlos.org",
			"port": 465,
			"security" : "ssl",
			"authent": "PLAIN",
			"username": "inlingua-adm@trychlos.org",
			"password": "X-aUnGv+pV8t!O8m",
			"mailfrom": "No Reply <no-reply@blingua.fr>",
			"mail2sms": {
				"to": "forwarder@trychlos.org",
				"subject": "SMSTO: +33607797792"
			}
		},

		"dbms": {
			"backupsRoot": "[eval:$TTPVars->{config}{site}{rootDir}]\\byDaySQLBackups",
			"backupsDir": "[eval:$TTPVars->{config}{toops}{dbms}{backupsRoot}]\\[eval:localtime->strftime( '%y%m%d' )]\\[eval:uc hostname]",
			"archivesRoot": "",
			"archivesDir": "[eval:Mods::Path::dbmsArchivesRoot()]\\[eval:localtime->strftime( '%y%m%d' )]"
		},
		"deployments": {
			"sourceDirs": [
				"[eval:$TTPVars->{config}{site}{rootDir}]\\SiteResources",
				"[eval:$TTPVars->{config}{site}{rootDir}]\\TheToolsProject"
			],
			"excludes": [
			],
			"before": {
				"removeTree": true
			},
			"after": [
			],
			"pullReference": "WS12DEV1",
			"byOS": {
				"MSWin32": {
					"command": "robocopy <SOURCE> <TARGET> /MIR"
				}
			}
		},
		"metrology": {
			"withMqtt": true,
			"withPrometheus": true
		},
		"prometheus": {
			"url": "http://localhost:9091/metrics"
		}
	}
}
