{
	"comments": [
		"Subscribes to below topics, trigerring an action on each received message"
	],

	"execPath": "[eval:$TTPVars->{config}{site}{site}{commandsDir}]\\mqtt-daemon.pl",
	"listenInterval": 1,
	"advertizeInterval": 60,
	"listeningPort": 14390,

	"topics_comments": [
		"The MQTT daemon always suscribes to the '#' and '$SYS/#' wildcards.",
		"The below configuration only says what to do with some topics we want monitor",
		"Each received topic is matched against the (key) regular expression. Whent matched, configuration applies as follow:",
		"- logTopic: whether to log the topic, defaulting to true",
		"- logMessage: whether to log the message, defaulting to true",
		"- command: when set, then the daemon will keep the last received messages, and answered to that command with their last value",
		"Note that regular expressions provided as keys of 'topics' hash may overlap each other: they will all be examined on each receive MQTT message.",
		"...",
		"...",
		""
	],
	"topics": {
		"^(?!\\$SYS)": {
			"comment": "match all which is not $SYS and let logs"
		},
		"^[^/]+/executionReport/dbms\\.pl/backup": {
			"comment": "match 'dbms.pl backup' execution reports, no need to log them again",
			"logTopic": false,
			"logMessage": false
		},
		"^\\$SYS/": {
			"comment": "match $SYS broker internal messages - do not log them (they are too numerous), but let a client request them",
			"logTopic": false,
			"logMessage": false,
			"command": "SYS"
		}
	}
}
