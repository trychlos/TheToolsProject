{
	"WS22PROD1": {
		"ServicesComments": [
		],
		"Services": {
			"Tom17": {
				"instance": "PROD",
				"databases": [
					"inlingua17a"
				],
				"workloads": {
					"tom17.live.morning": [
						{
							"label": "(Production Live) Sauvegarde quotidienne de la base de données Tom17",
							"commands": [
								"dbms.pl backup -nocolored -service Tom17 -full",
								"dbms.pl telemetry -nocolored -service Tom17 -dbsize",
								"dbms.pl telemetry -nocolored -service Tom17 -tabcount"
							]
						}
					],
					"tom17.live.every.2h": [
						{
							"label": "(Production Live) Sauvegarde différentielle sur la base de données Tom17",
							"commands": [
								"dbms.pl backup -nocolored -service Tom17 -diff"
							]
						}
					],
					"tom17.live.evening": [
					],
					"tom17.backup": [
						{
							"label": "(PRODUCTION BACKUP) Surveillance, transfert et restauration des sauvegardes de la production",
							"commands": [
								"daemon.pl stop -nocolored -json [eval:$TTPVars->{config}{site}{daemonsDir}]\\tom17-backup-monitor-daemon.json -ignore -wait 2",
								"daemon.pl start -nocolored -json [eval:$TTPVars->{config}{site}{daemonsDir}]\\tom17-backup-monitor-daemon.json -- -remote NS3232346"
							]
						}
					]
				},
				"status": {
					"commands": [
						"dbms.pl status -service <SERVICE> -state"
					]
				}
			},
			"Tom21": {
				"instance": "PROD",
				"databases": [
					"inlingua21"
				],
				"workloads": {
					"tom21.live.morning": [
						{
							"label": "(Production Live) Sauvegarde quotidienne de la base de données Tom21",
							"commands": [
								"dbms.pl backup -nocolored -service Tom21 -full",
								"dbms.pl telemetry -nocolored -service Tom21 -dbsize",
								"dbms.pl telemetry -nocolored -service Tom21 -tabcount"
							]
						}
					],
					"tom21.live.every.2h": [
						{
							"label": "(Production Live) Sauvegarde différentielle sur la base de données Tom21",
							"commands": [
								"dbms.pl backup -nocolored -service Tom21 -diff"
							]
						}
					],
					"tom21.live.evening": [
					],
					"tom21.backup": [
						{
							"label": "(PROD BACKUP) Surveillance, transfert et restauration des sauvegardes de la production",
							"commands": [
								"daemon.pl stop -nocolored -json [eval:$TTPVars->{config}{site}{daemonsDir}]\\tom21-backup-monitor-daemon.json -ignore -wait 2",
								"daemon.pl start -nocolored -json [eval:$TTPVars->{config}{site}{daemonsDir}]\\tom21-backup-monitor-daemon.json -- -remote NS3232346"
							]
						}
					]
				},
				"status": {
					"commands": [
						"dbms.pl status -service <SERVICE> -state"
					]
				}
			},
			"Tom59": {
				"instance": "PROD",
				"databases": [
					"TOM59331"
				],
				"workloads": {
					"tom59.live.morning": [
						{
							"label": "(Production Live) Sauvegarde quotidienne de la base de données Tom59",
							"commands": [
								"dbms.pl backup -nocolored -service Tom59 -full",
								"dbms.pl telemetry -nocolored -service Tom59 -dbsize",
								"dbms.pl telemetry -nocolored -service Tom59 -tabcount"
							]
						}
					],
					"tom59.live.every.2h": [
						{
							"label": "(Production Live) Sauvegarde différentielle sur la base de données Tom59",
							"commands": [
								"dbms.pl backup -nocolored -service Tom59 -diff"
							]
						}
					],
					"tom59.live.evening": [
					],
					"tom59.backup": [
						{
							"label": "(PRODUCTION BACKUP) Surveillance, transfert et restauration des sauvegardes de la production",
							"commands": [
								"daemon.pl stop -nocolored -json [eval:$TTPVars->{config}{site}{daemonsDir}]\\tom59-backup-monitor-daemon.json -ignore -wait 2",
								"daemon.pl start -nocolored -json [eval:$TTPVars->{config}{site}{daemonsDir}]\\tom59-backup-monitor-daemon.json -- -remote NS3232346"
							]
						}
					]
				},
				"status": {
					"commands": [
						"dbms.pl status -service <SERVICE> -state"
					]
				}
			},
			"Technical.Services": {
				"hidden": true,
				"workloads": {
					"daily.morning": [
						{
							"label": "Purge daily directories",
							"order": "00",
							"commands": [
								"ttp.pl pull -nocolored",
								"ttp.pl copydirs -nocolored -sourcecmd \"dbms.pl vars -nocolored -backupsDir\" -targetcmd \"dbms.pl vars -nocolored -archivesDir\" -dirs",
								"ttp.pl purgedirs -nocolored -dircmd \"dbms.pl vars -nocolored -backupsRoot\" -keep 5",
								"ttp.pl purgedirs -nocolored -dircmd \"dbms.pl vars -nocolored -archivesRoot\" -keep 10",
								"ttp.pl purgedirs -nocolored -dircmd \"ttp.pl vars -nocolored -logsRoot\" -keep 10"
							]
						}
					],
					"daily.evening": [
						{
							"label": "Update our scrips and resources",
							"commands": [
							]
						}
					],
					"startup": [
						{
							"label": "Advertize at startup",
							"commands": [
								"call C:\\INLINGUA\\SiteResources\\Commands\\startup.cmd"
							]
						}
					]
				}
			}
		},
		"DBMSInstancesComments": [
		],
		"DBMSInstances": {
			"PROD": {
				"package": "Mods::SqlServer",
				"dataPath": "C:\\Program Files\\Microsoft SQL Server\\MSSQL16.PROD\\MSSQL\\DATA"
			}
		},
		"dbms": {
			"archivesRoot": "\\\\ftpback-rbx7-618.ovh.net\\ns3153065.ip-51-91-25.eu\\[eval:Mods::Toops::_hostname()]\\SQLBackups"
		},
		"remoteShare": "\\\\10.122.1.11\\C"
	}
}
